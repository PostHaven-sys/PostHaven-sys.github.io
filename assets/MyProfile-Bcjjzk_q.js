import{_ as L,u as M,k as r,a as g,n as l,e,t as i,F as U,f as z,d as I,i as m,r as p,o as E,j as D,w as G,b as t,q as $,B as J,C as K,g as V,h as F,I as N,s as Q,D as W,R as X}from"./index-Dvynodkv.js";import{S as O}from"./ShowPost-DsdszylP.js";import"./Post-CYJaNKB0.js";const Z={__name:"MyPublikation",props:{option:{type:Object}},setup(P){const s=P,y=m("theme"),{t:w}=M();return(b,u)=>(r(),g("div",{class:l(["publications",e(y)?"themeBgwhite":"themeBgblack"])},[s.option.length===0?(r(),g("h2",{key:0,class:l(e(y)?"input_light":"input_night")},i(e(w)("myProfile.text10")),3)):(r(!0),g(U,{key:1},z(P.option,(c,k)=>(r(),I(O,{key:k,likedId:c.image_id,subDis:""},null,8,["likedId"]))),128))],2))}},ee=L(Z,[["__scopeId","data-v-fcba43d2"]]),te={__name:"Liked",props:{option:{type:Object},user_id:[String,Number]},setup(P){const s=P,y=m("theme"),w=m("urlAdressPosts"),b=m("urlAdressAuth"),u=p([]),c=p(!1),{t:k}=M(),A=async()=>{try{const n=await D.get(w);if(n.status!==200)return;u.value=n.data.filter(o=>s.option.includes(o.image_id)),C(n.data)}catch(n){console.log(n)}};async function C(n){const o=n.map(_=>_.image_id),v=s.option.filter(_=>o.includes(_));if(s.option.filter(_=>!o.includes(_)).length!==0){c.value=!0;try{await D.put(`${b}/${s.user_id}`,{post_like:v})}catch(_){console.log(_)}}}return E(()=>{s.option.length>0?(c.value=!0,A()):c.value=!1}),(n,o)=>(r(),g("div",{class:l(["liked",e(y)?"themeBgwhite":"themeBgblack"])},[c.value===!0?(r(!0),g(U,{key:0},z(u.value,(v,x)=>(r(),I(O,{key:x,likedId:v.image_id,subDis:"",otherDis:""},null,8,["likedId"]))),128)):(r(),g("h2",{key:1,class:l(e(y)?"input_light":"input_night")},i(e(k)("myProfile.text11")),3))],2))}},se=L(te,[["__scopeId","data-v-54ed9d59"]]),ie={class:"my_profile_header"},oe={class:"other"},le={class:"name"},ne={key:0,class:"loader_text"},ae={class:"edit_and_settings"},re=["disabled"],ue={class:"friends_container"},ce={class:"friends"},de={class:"my_profile_footer"},he={__name:"MyProfile",setup(P){const s=m("theme"),y=m("urlAdressAuth"),w=m("urlAdressPosts"),b=m("user_Id"),u=m("confirmation"),c=m("media"),k=p(0),A=p(0),C=p(0),n=p(!1),o=p([]),v=p([]),x=p(!1),_=p(""),{t:d}=M(),S=async()=>{try{const[h,a]=await Promise.all([D.get(y),D.get(w)]);let f=h.data.find(B=>B.user_id===b);o.value=f,A.value=f.users_subsribe.length,v.value=a.data.filter(B=>B.user_id===b),H();const T=h.data.filter(B=>{var j;return(j=B.users_subsribe)==null?void 0:j.some(Y=>Y===b)});C.value=T.length}catch(h){console.log(h)}},R=()=>{u.value.active=!0,u.value.exit=!0},q=h=>{u.value.active=!0,u.value.id=h,u.value.deleteUser=!0},H=()=>{for(let h=0;h<v.value.length;h++)k.value+=v.value[h].like};return G(()=>{u.value.delete===!0&&S()}),E(()=>{b&&(S(),_.value=window.innerHeight)}),(h,a)=>(r(),g("div",{class:l(["my_profile_conatiner",e(s)?"themeBgwhite":"themeBgblack"])},[t("div",{class:l(["settings",[e(s)?"themeBgwhite":"themeBgblack",{settings_close:!x.value}]])},[t("button",{class:"close_btn",onClick:a[0]||(a[0]=f=>x.value=!1)},[$(e(N),{icon:"line-md:close-small",width:"40",height:"40"})]),t("button",{onClick:a[1]||(a[1]=f=>R()),class:"exit_btn"},[t("span",null,i(e(d)("myProfile.text12")),1),$(e(N),{icon:"solar:exit-bold-duotone",width:"50",height:"50"})]),t("button",{onClick:a[2]||(a[2]=f=>q(o.value.id)),class:"exit_btn"},[t("span",null,i(e(d)("myProfile.text13")),1),$(e(N),{icon:"line-md:account-delete",width:"50",height:"50"})])],2),t("div",ie,[$(K,{src:o.value.user_logo||e(Q),preview:"",width:e(c)?"100px":"220px",height:e(c)?"100px":"220px",style:J([{overflow:"hidden","border-radius":"50%","margin-top":"50px"},{margin:e(c)?"30px 0 0 15px ":"0"}]),balance:""},null,8,["src","width","height","style"]),t("div",oe,[t("h2",le,[V(i(o.value.user_name)+" ",1),o.value.user_name?F("",!0):(r(),g("div",ne))]),t("div",ae,[t("button",{disabled:!o.value.id},[o.value.id?(r(),I(e(X),{key:1,to:{name:"editUsers",params:{id:o.value.id}}},{default:W(()=>[V(i(e(d)("myProfile.text1")),1)]),_:1},8,["to"])):(r(),g("div",{key:0,class:l(e(c)?"loader_text":"loader")},null,2))],8,re),t("button",{onClick:a[3]||(a[3]=f=>x.value=!0)},i(e(d)("myProfile.text2")),1)]),t("div",ue,[t("div",ce,[t("h3",{class:l(e(s)?"input_light":"input_night")},i(v.value.length||0)+" "+i(e(d)("myProfile.text3")),3),t("h3",{class:l(e(s)?"input_light":"input_night")},i(k.value||0)+" "+i(e(d)("myProfile.text4")),3),t("h3",{class:l(e(s)?"input_light":"input_night")},i(A.value||0)+" "+i(e(d)("myProfile.text5")),3)]),t("h3",{class:l(e(s)?"input_light":"input_night")},i(C.value)+" "+i(e(d)("myProfile.text6")),3)]),t("p",{class:l(["biographies",e(s)?"input_light":"input_night"])},i(o.value.biography?o.value.biography:e(d)("myProfile.text7")),3),V(" "+i(`${_.value}px`),1)])]),t("div",de,[t("div",{class:l(["liked-text",e(s)?"borderLight":"borderNight"])},[t("button",{onClick:a[4]||(a[4]=f=>n.value=!1),class:l([e(s)?"color_light":"color_night",{btnAct:!n.value}])},i(e(d)("myProfile.text8")),3),t("button",{onClick:a[5]||(a[5]=f=>n.value=!0),class:l([e(s)?"color_light":"color_night",{btnAct:n.value}])},i(e(d)("myProfile.text9")),3)],2),t("div",{class:l(["liked",e(s)?"themeBgwhite":"themeBgblack"])},[!n.value&&e(u).delete===!1?(r(),I(ee,{key:0,option:v.value},null,8,["option"])):F("",!0),n.value&&e(u).delete===!1?(r(),I(se,{key:1,option:o.value.post_like,user_id:o.value.id},null,8,["option","user_id"])):F("",!0)],2)])],2))}},ve=L(he,[["__scopeId","data-v-ef9b673e"]]);export{ve as default};
