import{_ as B,r as l,p as C,i as c,w,o as S,k as r,a as h,b as k,q as x,e as D,I as O,d as I,n as L,s as N,C as j,j as n}from"./index-B8F0F9_-.js";import{P as E}from"./Post-BKOtOZcJ.js";const U={key:1,class:"loader"},V={key:1,class:"loader"},q={__name:"ShowPost",props:{likedId:{type:[Number,String]},userProf:{type:Boolean,default:!1},subDis:{type:Boolean,default:!1},otherDis:{type:Boolean,default:!1}},setup(d){const f=l(!1);C("updateSub",f);const m=c("user_Id"),_=c("urlAdressAuth"),b=c("urlAdressPosts"),u=c("confirmation"),t=d,i=l(!1),a=l(!1),o=l([]),v=l([]),g=async()=>{try{const[e,s]=await Promise.all([n.get(`${_}?user_id=${m}`),n.get(`${b}?image_id=${t.likedId}`)]);if(e.status!==200||s.status!==200)return;v.value=e.data[0],o.value=s.data[0],s.status==200&&(a.value=!0),u.value.subscribe===!0&&(f.value=!0)}catch(e){console.log(e),a.value=!0}},y=async e=>{try{const[s,p]=await Promise.all([n.get(`${_}?user_id=${m}`),n.get(`${b}/${e}`)]);if(s.status!==200||p.status!==200)return;v.value=s.data[0],o.value=p.data,p.status==200&&(a.value=!0),u.value.subscribe===!0&&(f.value=!0)}catch(s){console.log(s),a.value=!0}},A=()=>{i.value=!0},P=()=>{i.value=!1},$=e=>{e.target.classList.contains("show_post")&&(i.value=!1)};return w(()=>{u.value.subscribe===!0&&(t.userProf?y(t.likedId):g())}),w(()=>{u.value.delete===!0&&P()}),S(()=>{t.userProf?y(t.likedId):g()}),(e,s)=>(r(),h("div",null,[k("div",{class:L(["show_post",{active_show_post:i.value}]),onClick:$},[k("button",{class:"close",onClick:P},[x(D(O),{icon:"material-symbols:close-rounded",width:"35",height:"35"})]),a.value?(r(),I(E,{key:0,postOption:o.value,userOption:v.value,subDis:d.subDis,otherDis:d.otherDis},null,8,["postOption","userOption","subDis","otherDis"])):(r(),h("div",U))],2),k("button",{onClick:A},[o.value.image?(r(),I(j,{key:0,src:o.value.image||D(N),width:"100%",height:"100%",style:{transition:".3s"},class:"hover:opacity-60",balance:""},null,8,["src"])):(r(),h("div",V))])]))}},F=B(q,[["__scopeId","data-v-c6894952"]]);export{F as S};
