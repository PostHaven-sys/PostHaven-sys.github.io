import{_ as F,u as N,k as u,a as v,n,e,t as l,F as j,f as U,d as B,i as _,r as m,o as z,j as $,w as G,b as t,q as C,B as H,C as J,g as S,h as D,I as V,s as K,D as Q,R as W}from"./index-Bl2Rcgy9.js";import{S as E}from"./ShowPost-D_g9dZLM.js";import"./Post-YLEKxrI2.js";const X={__name:"MyPublikation",props:{option:{type:Object}},setup(x){const s=x,f=_("theme"),{t:P}=N();return(y,c)=>(u(),v("div",{class:n(["publications",e(f)?"themeBgwhite":"themeBgblack"])},[s.option.length===0?(u(),v("h2",{key:0,class:n(e(f)?"input_light":"input_night")},l(e(P)("myProfile.text10")),3)):(u(!0),v(j,{key:1},U(x.option,(d,b)=>(u(),B(E,{key:b,likedId:d.image_id,subDis:""},null,8,["likedId"]))),128))],2))}},Z=F(X,[["__scopeId","data-v-fcba43d2"]]),ee={__name:"Liked",props:{option:{type:Object},user_id:[String,Number]},setup(x){const s=x,f=_("theme"),P=_("urlAdressPosts"),y=_("urlAdressAuth"),c=m([]),d=m(!1),{t:b}=N(),I=async()=>{try{const a=await $.get(P);if(a.status!==200)return;c.value=a.data.filter(i=>s.option.includes(i.image_id)),A(a.data)}catch(a){console.log(a)}};async function A(a){const i=a.map(o=>o.image_id),p=s.option.filter(o=>i.includes(o));if(s.option.filter(o=>!i.includes(o)).length!==0){d.value=!0;try{await $.put(`${y}/${s.user_id}`,{post_like:p})}catch(o){console.log(o)}}}return z(()=>{s.option.length>0?(d.value=!0,I()):d.value=!1}),(a,i)=>(u(),v("div",{class:n(["liked",e(f)?"themeBgwhite":"themeBgblack"])},[d.value===!0?(u(!0),v(j,{key:0},U(c.value,(p,k)=>(u(),B(E,{key:k,likedId:p.image_id,subDis:"",otherDis:""},null,8,["likedId"]))),128)):(u(),v("h2",{key:1,class:n(e(f)?"input_light":"input_night")},l(e(b)("myProfile.text11")),3))],2))}},te=F(ee,[["__scopeId","data-v-54ed9d59"]]),se={class:"my_profile_header"},oe={class:"other"},ie={class:"name"},le={key:0,class:"loader_text"},ne={class:"edit_and_settings"},ae=["disabled"],re={class:"friends_container"},ue={class:"friends"},ce={class:"my_profile_footer"},de={__name:"MyProfile",setup(x){const s=_("theme"),f=_("urlAdressAuth"),P=_("urlAdressPosts"),y=_("user_Id"),c=_("confirmation"),d=_("media"),b=m(0),I=m(0),A=m(0),a=m(!1),i=m([]),p=m([]),k=m(!1),{t:o}=N(),L=async()=>{try{const[h,r]=await Promise.all([$.get(f),$.get(P)]);let g=h.data.find(w=>w.user_id===y);i.value=g,I.value=g.users_subsribe.length,p.value=r.data.filter(w=>w.user_id===y),q();const T=h.data.filter(w=>{var M;return(M=w.users_subsribe)==null?void 0:M.some(Y=>Y===y)});A.value=T.length}catch(h){console.log(h)}},O=()=>{c.value.active=!0,c.value.exit=!0},R=h=>{c.value.active=!0,c.value.id=h,c.value.deleteUser=!0},q=()=>{for(let h=0;h<p.value.length;h++)b.value+=p.value[h].like};return G(()=>{c.value.delete===!0&&L()}),z(()=>{y&&L()}),(h,r)=>(u(),v("div",{class:n(["my_profile_conatiner",e(s)?"themeBgwhite":"themeBgblack"])},[t("div",{class:n(["settings",[e(s)?"themeBgwhite":"themeBgblack",{settings_close:!k.value}]])},[t("button",{class:"close_btn",onClick:r[0]||(r[0]=g=>k.value=!1)},[C(e(V),{icon:"line-md:close-small",width:"40",height:"40"})]),t("button",{onClick:r[1]||(r[1]=g=>O()),class:"exit_btn"},[t("span",null,l(e(o)("myProfile.text12")),1),C(e(V),{icon:"solar:exit-bold-duotone",width:"50",height:"50"})]),t("button",{onClick:r[2]||(r[2]=g=>R(i.value.id)),class:"exit_btn"},[t("span",null,l(e(o)("myProfile.text13")),1),C(e(V),{icon:"line-md:account-delete",width:"50",height:"50"})])],2),t("div",se,[C(J,{src:i.value.user_logo||e(K),preview:"",width:e(d)?"100px":"220px",height:e(d)?"100px":"220px",style:H([{overflow:"hidden","border-radius":"50%","margin-top":"50px"},{margin:e(d)?"30px 0 0 15px ":"0"}]),balance:""},null,8,["src","width","height","style"]),t("div",oe,[t("h2",ie,[S(l(i.value.user_name)+" ",1),i.value.user_name?D("",!0):(u(),v("div",le))]),t("div",ne,[t("button",{disabled:!i.value.id},[i.value.id?(u(),B(e(W),{key:1,to:{name:"editUsers",params:{id:i.value.id}}},{default:Q(()=>[S(l(e(o)("myProfile.text1")),1)]),_:1},8,["to"])):(u(),v("div",{key:0,class:n(e(d)?"loader_text":"loader")},null,2))],8,ae),t("button",{onClick:r[3]||(r[3]=g=>k.value=!0)},l(e(o)("myProfile.text2")),1)]),t("div",re,[t("div",ue,[t("h3",{class:n(e(s)?"input_light":"input_night")},l(p.value.length||0)+" "+l(e(o)("myProfile.text3")),3),t("h3",{class:n(e(s)?"input_light":"input_night")},l(b.value||0)+" "+l(e(o)("myProfile.text4")),3),t("h3",{class:n(e(s)?"input_light":"input_night")},l(I.value||0)+" "+l(e(o)("myProfile.text5")),3)]),t("h3",{class:n(e(s)?"input_light":"input_night")},l(A.value)+" "+l(e(o)("myProfile.text6")),3)]),t("p",{class:n(["biographies",e(s)?"input_light":"input_night"])},l(i.value.biography?i.value.biography:e(o)("myProfile.text7")),3)])]),t("div",ce,[t("div",{class:n(["liked-text",e(s)?"borderLight":"borderNight"])},[t("button",{onClick:r[4]||(r[4]=g=>a.value=!1),class:n([e(s)?"color_light":"color_night",{btnAct:!a.value}])},l(e(o)("myProfile.text8")),3),t("button",{onClick:r[5]||(r[5]=g=>a.value=!0),class:n([e(s)?"color_light":"color_night",{btnAct:a.value}])},l(e(o)("myProfile.text9")),3)],2),t("div",{class:n(["liked",e(s)?"themeBgwhite":"themeBgblack"])},[!a.value&&e(c).delete===!1?(u(),B(Z,{key:0,option:p.value},null,8,["option"])):D("",!0),a.value&&e(c).delete===!1?(u(),B(te,{key:1,option:i.value.post_like,user_id:i.value.id},null,8,["option","user_id"])):D("",!0)],2)])],2))}},me=F(de,[["__scopeId","data-v-584bfa13"]]);export{me as default};
